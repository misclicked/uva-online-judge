When none of M and N is 1 or 2, the maximum number of knights is given by the formula
`(M*N+1)/2`.